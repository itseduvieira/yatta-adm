<nav class="navbar navbar-top navbar-expand-md navbar-dark" id="navbar-main">
    <div class="container-fluid" style="min-height: 56px;">
        <a class="h4 mb-0 text-white" style="font-size: 1em;" routerLinkActive="active" [routerLink]="['/']">‚è∞ yatta!
            analytics</a>

        <div>

            <a class="h4 ml-4 mr-4 mb-0 text-white text-uppercase ls-1" style="cursor: pointer; font-size: 0.7em;"
                (click)="openModal(content)" #pricing>Pricing</a>
            <a class="h4 ml-4 mr-4 mb-0 text-white text-uppercase ls-1" style="cursor: pointer; font-size: 0.7em;"
                [routerLink]="['/dash/demo']">Live demo</a>
            <a class="h4 ml-4 mr-4 mb-0 text-white text-uppercase ls-1" href="#about"
                style="cursor: pointer; font-size: 0.7em;">About yatta!</a>
            <button type="button" class="btn btn-secondary text-uppercase ml-4 ls-1"
                style="font-size: 0.7em;color:#4150a5;" (click)="checkTwitter()">Get started</button>
        </div>
    </div>
</nav>

<div class="header pb-6 pt-6 pt-md-8">
    <div class="container">
        <div class="header-body">
            <div class="row align-items-center">

                <div class="col align-items-center p-sm-3" style="text-align: center;">
                    <h1 class="text-white display-1" style="font-weight: 800;">What's your best time to tweet?</h1>
                    <h1 class="text-white ml-5 mr-5" style="font-size: 1.2em; font-weight: 200;">yatta helps you to
                        become aware of your audience's habits on Twitter</h1>
                </div>

            </div>
            <div class="row align-items-center mt-5">
                <div class="col align-items-center" style="text-align: center;">
                    <button type="button" class="btn btn-secondary p-3 pl-5 pr-5 m-2 text-uppercase ls-1"
                        style="font-size: 0.8em;color:#4150a5;" (click)="checkTwitter()">‚è∞ Find your best time right
                        now</button>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="container-fluid">
    <div class="row">
        <div class="col">
            <div class="card shadow mb-8 p-3" style="min-height: 420px;">
                <div class="card-header border-0 pt-5" style="padding: 1.25rem 1.85rem 0.25rem 1.85rem">
                    <div class="row">
                        <div class="col" style="text-align: center;">
                            <h6 class="text-uppercase text-light ls-1 mb-1">Interactions by hour</h6>
                            <h2 class="h1 mb-2">Know when your tweets get most attention</h2>
                        </div>
                    </div>
                </div>

                <div class="card-body" style="min-height: 18.6rem; text-align: center;">
                    <img class="img-fluid" src="/assets/img/mockup.png" />
                </div>

                <div id="about" class="card-header border-0 pt-6" style="padding: 1.25rem 1.85rem 0.25rem 1.85rem">
                    <div class="row">
                        <div class="col" style="text-align: center;">
                            <h6 class="text-uppercase text-light ls-1 mb-1">About yatta!</h6>
                            <h2 class="h1 mb-3">yatta! or Yet Another Twitter Analytics</h2>
                        </div>
                    </div>
                </div>

                <div class="card-body" style="min-height: 16rem;text-align: center;">
                    <div class="row justify-content-center">
                        <div class="col col-md-8">
                            <p>Hi, I'm Edu! üëã</p>
                            <p>
                                I always wanted to know what is the best time to tweet. In other words, I was really
                                curious about what
                                time of the day my tweets were getting more attention. To answer that question I've
                                built this
                                lightweight tool to help me raise awareness about my content and just realized how
                                useful it could be
                                for other people on Twitter.
                            </p>

                            <p>
                                So, wanna find your best time?
                            </p>

                            <p>
                                <button type="button" class="btn btn-primary m-5 p-3 pl-5 pr-5 text-uppercase ls-1"
                                    style="font-size: 0.8em;" (click)="checkTwitter()">‚è∞ Find your best time right
                                    now</button>
                            </p>
                        </div>
                    </div>

                    <h2 class="mt-4 mb-6">Here is why you should use yatta!</h2>
                    <div class="row justify-content-center pb-3">
                        <div class="col col-md-3" style="text-align: left;">
                            <h3>It's easy and simple</h3>
                            <p>
                                Just sign in with your Twitter account, select a plan and done.
                                Your best time will be available instantly. As simple as that.
                            </p>
                        </div>
                        <div class="col col-md-3" style="text-align: left;">
                            <h3>Insights that matter</h3>
                            <p>
                                Don't waste time.
                                Make better analysis and optimize your time with great insights provided by yatta!
                            </p>
                        </div>
                        <div class="col col-md-3" style="text-align: left;">
                            <h3>We don't store any data</h3>
                            <p>
                                We take your privacy very seriously.
                                yatta! calculates everything on demand. No data is stored.
                            </p>
                        </div>
                    </div>

                    <div class="row justify-content-center pb-7">
                        <div class="col">

                            <p class="p-2">
                                <a class="btn btn-outline-primary m-3 p-3 pl-5 pr-5 text-uppercase ls-1"
                                    href="https://twitter.com/messages/compose?recipient_id=72183014&text=yatta!"
                                    target="_blank" style="font-size: 0.8em;">üì© Any questions? Send me a DM</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #content let-c="close" let-d="dismiss">
    <div class="modal-content" style="min-height: 608.8px;">
        <div class="modal-header">
            <button type="button" style="z-index: 1000;" class="close" data-dismiss="modal" aria-label="Close"
                (click)="c('Close click')" [routerLink]="['/']">
                <span aria-hidden="true">√ó</span>
            </button>
        </div>
        <div class="modal-body mt--5 pt-5 pb-5">
            <div [hidden]="requestComplete" class="container">
                <div class="row">
                    <div class="col col-md-6 pl-1 pr-1">
                        <div class="row">
                            <div class="col" style="text-align: center;">
                                <h6 class="text-uppercase text-light ls-1 mb-1">yatta! analytics</h6>
                                <h2 class="h2 mb-2">Does your audience stay up all night?</h2>
                                <h2 class="h4" style="color: #999;">‚è∞ Find it out with yatta!</h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="card card-stats mt-4 ml-5 mr-5 mb-xl-0" style="min-height: 122px;">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col">
                                                <h5 class="card-title text-uppercase text-muted mb-0">Best time to Tweet
                                                </h5>
                                                <span class="h2 font-weight-bold mb-0" style="font-size: 1.2rem;">Every
                                                    1AM</span>
                                            </div>
                                            <div class="col-auto">
                                                <div
                                                    class="icon icon-shape bg-success text-white rounded-circle shadow">
                                                    <i class="fas fa-clock"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <p class="mt-3 mb-0 text-muted text-sm">
                                            <span class="text-success mr-2"><i class="fas fa-bell"></i> 1390
                                                interactions</span>
                                            <span class="text-nowrap">at this time</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col pt-4 pl-5 pr-5">
                                <h4>üõ† yatta! is a lightweight tool</h4>
                                <p style="font-size: .9em;">
                                    Meaning we don't store any data, nor send any emails
                                </p>
                                <h4>‚ú® It's easy and simple</h4>
                                <p style="font-size: .9em;">
                                    Just sign in with your Twitter account, and you're good to go
                                </p>
                                <h4>üö´ Cancel anytime</h4>
                                <p style="font-size: .9em;">
                                    No strings attached, cancel your subscription anytime you want
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col col-md-6">
                        <div class="row">
                            <div class="col" style="text-align: center;">
                                <h6 class="text-uppercase ls-1 mb-4" style="color: #525f7f;">Choose your subscription
                                </h6>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4" style="text-align: right;">
                                <h6 (click)="isChecked=false" class="text-uppercase ls-1"
                                    [ngClass]="{'text-light': isChecked, 'text-blue': !isChecked}"
                                    style="cursor: pointer;">Pay monthly</h6>
                            </div>
                            <div class="col-4" style="text-align: center;">
                                <div class="form-group">
                                    <label class="custom-toggle">
                                        <input type="checkbox" checked="true" [(ngModel)]="isChecked">
                                        <span class="custom-toggle-slider rounded-circle"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="col-4" style="text-align: left;">
                                <h6 (click)="isChecked=true" class="text-uppercase ls-1"
                                    [ngClass]="{'text-blue': isChecked, 'text-light' : !isChecked}"
                                    style="cursor: pointer;">Pay annually</h6>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 pt-4 " style="text-align: center;">
                                <h1 style="font-size: 3.6em; font-weight: 800;color: #5e72e4;">

                                    <s *ngIf="isChecked" class="text-light">$3</s>
                                    {{ isChecked ? '$2' : ('$' + toFixedIfNecessary(priceMonthly)) }}/mo
                                </h1>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 mt--3 pb-5" style="text-align: center;">
                                <span *ngIf="!coupon || (coupon && isChecked)" style="font-size: small;">Pay {{ isChecked ? '$24 annually (30% off)' : '$3
                                    monthly ($36/year)' }} <a *ngIf="!isChecked && !coupon" (click)="isChecked=true"
                                        style="color: #5e72e4; cursor: pointer;">Want to save 30%?</a><br>Cancel
                                    anytime</span>

                                <span *ngIf="coupon && !isChecked" style="font-size: small;">Coupon applied! {{ coupon.name }}<br>Cancel
                                    anytime</span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="form-group">
                                    <h6 class="text-uppercase text-light ls-1 mb-3">Pay with credit card</h6>
                                    <style>
                                        .StripeElement--focus,
                                        .StripeElement--complete,
                                        .StripeElement--empty {
                                            border-radius: 5px;
                                            outline: 0;
                                            border: solid 1px #525f7f;
                                        }

                                        .StripeElement--invalid {
                                            border-radius: 5px;
                                            outline: 0;
                                            border: solid 1px #fa755a;
                                        }

                                        #card-number.form-control,
                                        #card-cvc.form-control,
                                        #card-exp.form-control {
                                            display: inline-block;
                                        }

                                        .spinner,
                                        .spinner:before,
                                        .spinner:after {
                                            border-radius: 50%;
                                        }

                                        .spinner {
                                            color: #ffffff;
                                            font-size: 22px;
                                            text-indent: -99999px;
                                            margin: 0px auto;
                                            position: relative;
                                            width: 20px;
                                            height: 20px;
                                            box-shadow: inset 0 0 0 2px;
                                            -webkit-transform: translateZ(0);
                                            -ms-transform: translateZ(0);
                                            transform: translateZ(0);
                                        }

                                        .spinner:before,
                                        .spinner:after {
                                            position: absolute;
                                            content: "";
                                        }

                                        .spinner:before {
                                            width: 10.4px;
                                            height: 20.4px;
                                            background: #5469d4;
                                            border-radius: 20.4px 0 0 20.4px;
                                            top: -0.2px;
                                            left: -0.2px;
                                            -webkit-transform-origin: 10.4px 10.2px;
                                            transform-origin: 10.4px 10.2px;
                                            -webkit-animation: loading 2s infinite ease 1.5s;
                                            animation: loading 2s infinite ease 1.5s;
                                        }

                                        .spinner:after {
                                            width: 10.4px;
                                            height: 10.2px;
                                            background: #5469d4;
                                            border-radius: 0 10.2px 10.2px 0;
                                            top: -0.1px;
                                            left: 10.2px;
                                            -webkit-transform-origin: 0px 10.2px;
                                            transform-origin: 0px 10.2px;
                                            -webkit-animation: loading 2s infinite ease;
                                            animation: loading 2s infinite ease;
                                        }

                                        @-webkit-keyframes loading {
                                            0% {
                                                -webkit-transform: rotate(0deg);
                                                transform: rotate(0deg);
                                            }

                                            100% {
                                                -webkit-transform: rotate(360deg);
                                                transform: rotate(360deg);
                                            }
                                        }

                                        @keyframes loading {
                                            0% {
                                                -webkit-transform: rotate(0deg);
                                                transform: rotate(0deg);
                                            }

                                            100% {
                                                -webkit-transform: rotate(360deg);
                                                transform: rotate(360deg);
                                            }
                                        }
                                    </style>
                                    <div id="card-info" class="p-3"></div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <button type="button" [disabled]="!isComplete || isLoading"
                                    class="btn btn-primary btn-lg btn-block text-uppercase ls-1" (click)="subscribe()"
                                    style="height:72px;">
                                    <div class="spinner" *ngIf="isLoading" id="spinner"></div>
                                    <span style="font-size: 1em;" *ngIf="!isLoading">Join yatta! ‚Äî {{ isChecked ?
                                        '$24/year' : '$' + toFixedIfNecessary(priceMonthly) + '/month' }}</span><br *ngIf="!isLoading">
                                    <span class="mt--3" style="font-size: 0.68em;" *ngIf="!isLoading">Premium
                                        subscription</span>
                                </button>
                                <span style="font-size: x-small;">Payments are securely processed via <a
                                        href="https://stripe.com" target="_blank">Stripe</a> üîê</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div [hidden]="!requestComplete" class="container">
                <div class="row" style="height: 498.8px;">
                    <div class="col pl-1 pr-1 my-auto mt--5">
                        <div class="row justify-content-center">
                            <div class="col col-lg-8" style="text-align: center;">
                                <h6 class="text-uppercase text-light ls-1 mb-1">yatta! analytics</h6>
                                <h2 class="h1 mb-2">{{title}}</h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col" style="text-align: center;">
                                <p style="color: #aaa;">{{subtitle}}</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col" style="text-align: center;">
                                <img class="img-fluid mt-3" style="height: 190px;" [src]="imgFeedback" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col" style="text-align: center;">
                                <button type="button" *ngIf="imgFeedback.indexOf('success') > -1"
                                    class="btn btn-primary mt-5 p-3 pl-5 pr-5 text-uppercase ls-1"
                                    style="font-size: 0.8em;" (click)="goToDash()">‚è∞ Go to dashboard</button>

                                <button type="button" *ngIf="imgFeedback.indexOf('fail') > -1"
                                    class="btn btn-primary mt-5 p-3 pl-5 pr-5 text-uppercase ls-1"
                                    style="font-size: 0.8em;" (click)="tryAgain()">Try again</button>

                                <button type="button" *ngIf="imgFeedback.indexOf('confirm') > -1"
                                    class="btn btn-primary mt-5 p-3 pl-5 pr-5 text-uppercase ls-1"
                                    style="font-size: 0.8em;" (click)="confirmPayment()">Confirm your payment</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>